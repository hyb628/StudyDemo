<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">
	var str = [3,12,11,43,56,7,66,82,90];
	
	// 冒泡排序
	function bubbleSort(arr) {
		var temp = null;
		var len = arr.length;
		for (var i =0;i<len-1;i++) {  //外层循环n-1次
			for (var j = 0;j<len-1-i;j++) { //内层每次循环n-1-i次
				if(arr[j]<arr[j+1]){
					temp = arr[j];
					arr[j] = arr[j+1];
					arr[j+1] = temp;
				}
			}
		}
		return arr;
	}
	console.log('冒泡排序：'+bubbleSort(str)); // 输出结果
	
	// 冒泡排序优化
	function bubbleSort1(arr) {
		var temp = null;
		var len = arr.length;
		var flag = false; //设置标志位，初始值为false
		for (var i =0;i<len-1;i++) {  //外层循环n-1次
			for (var j = 0;j<len-1-i;j++) { //内层每次循环n-1-i次
				if(arr[j]<arr[j+1]){
					temp = arr[j];
					arr[j] = arr[j+1];
					arr[j+1] = temp;
					flag = true;
				}
			}
			if(flag) { //只要交换了位置，flag的值就重新设置为false
				flag = false;
			} else {  //如果没有交换，说明数组已经排好序，可以结束循环了
				break;
			}
		}
		return arr;
	}
	console.log('冒泡排序优化：'+bubbleSort1(str)); // 输出结果
	
	</script>
</body>
</html>